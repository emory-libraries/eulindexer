

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Deploy Notes &mdash; eulindexer v0.1-dev documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="eulindexer v0.1-dev documentation" href="index.html" />
    <link rel="next" title="eulindexer Code Documentation for eulindexer" href="apidocs.html" />
    <link rel="prev" title="EULindexer" href="readme.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="apidocs.html" title="eulindexer Code Documentation for eulindexer"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="readme.html" title="EULindexer"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">eulindexer v0.1-dev documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="deploy-notes">
<h1>Deploy Notes<a class="headerlink" href="#deploy-notes" title="Permalink to this headline">¶</a></h1>
<p>Instructions for installation &amp; upgrade notes.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="software-dependencies">
<h3>Software Dependencies<a class="headerlink" href="#software-dependencies" title="Permalink to this headline">¶</a></h3>
<p>We recommend the use of <a class="reference external" href="http://pip.openplans.org/">pip</a> and <a class="reference external" href="http://virtualenv.openplans.org/">virtualenv</a> for environment and dependency
management in this and other Python projects. If you don&#8217;t have them
installed we recommend <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">easy_install</span> <span class="pre">pip</span></tt> and then <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">pip</span> <span class="pre">install</span>
<span class="pre">virtualenv</span></tt>.</p>
<div class="section" id="configure-the-environment">
<h4>Configure the environment<a class="headerlink" href="#configure-the-environment" title="Permalink to this headline">¶</a></h4>
<p>When first installing this project, you&#8217;ll need to create a virtual environment
for it. The environment is just a directory. You can store it anywhere you like;
in this documentation it’ll live right next to the source. For instance, if the
source is in /home/eulindexer/, consider creating an environment in
/home/eulindexer/env. To create such an environment, su into apache&#8217;s user
and:</p>
<div class="highlight-python"><pre>$ virtualenv --no-site-packages /home/eulindexer/env</pre>
</div>
<p>This creates a new virtual environment in that directory. Source the activation
file to invoke the virtual environment (requires that you use the bash shell):</p>
<div class="highlight-python"><pre>$ . /home/eulindexer/env/bin/activate</pre>
</div>
<p>Once the environment has been activated inside a shell, Python programs
spawned from that shell will read their environment only from this
directory, not from the system-wide site packages. Installations will
correspondingly be installed into this environment.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Installation instructions and upgrade notes below assume that
you are already in an activated shell.</p>
</div>
</div>
<div class="section" id="install-python-dependencies">
<h4>Install python dependencies<a class="headerlink" href="#install-python-dependencies" title="Permalink to this headline">¶</a></h4>
<p>EULIndexer depends on several python libraries. The installation is mostly
automated, and will print status messages as packages are installed. If there
are any errors, pip should announce them very loudly.</p>
<p>To install python dependencies, cd into the repository checkout and:</p>
<div class="highlight-python"><pre>$ pip install -r pip-install-req.txt</pre>
</div>
<p>If you are a developer or are installing to a continuous ingration server
where you plan to run unit tests, code coverage reports, or build sphinx
documentation, you probably will also want to:</p>
<div class="highlight-python"><pre>$ pip install -r pip-dev-req.txt</pre>
</div>
<p>After this step, your virtual environment should contain all of the
dependencies for EULIndexer.</p>
</div>
<div class="section" id="install-configure-system-dependencies">
<h4>Install/Configure System Dependencies<a class="headerlink" href="#install-configure-system-dependencies" title="Permalink to this headline">¶</a></h4>
<div class="section" id="fedora">
<h5>Fedora<a class="headerlink" href="#fedora" title="Permalink to this headline">¶</a></h5>
<p>Currently, EULIndexer only supports Fedora &#8220;out of the box&#8221;. Fedora needs to be
configured as mentioned in the FEDORA-MQ-CONFIG.rst document that exists
in the same directory as this document. That document basically enables STOMP
messages that tells EULIndexer when a Fedora object has been added or updated.</p>
</div>
<div class="section" id="solr">
<h5>SOLR<a class="headerlink" href="#solr" title="Permalink to this headline">¶</a></h5>
<p>EULIndexer also only supports SOLR for an index &#8220;out of the box&#8221; at this time.
To learn more about SOLR, please visit: <a class="reference external" href="http://lucene.apache.org/solr/">http://lucene.apache.org/solr/</a> . Sample
documentation of our infrastructure install with Fedora can be found at:
<a class="reference external" href="https://techknowhow.library.emory.edu/fedora-commons/fedora-install-notes">Emory Libraries TechKnowHow</a></p>
<p>Please note that a SOLR schema is required for data to be processed and EULIndexer
assumes that schema is named &#8220;schema.xml&#8221; within the SOLR instance. A sample simple
SOLR Schema is located in the indexdata directory of <a class="reference external" href="https://github.com/emory-libraries/eulfedora">EULfedora</a>
as the name &#8220;sample-solr-schema.xml&#8221; (which would naturally need to be renamed &#8220;schema.xml&#8221; to be used).</p>
</div>
</div>
</div>
<div class="section" id="install-the-application">
<h3>Install the Application<a class="headerlink" href="#install-the-application" title="Permalink to this headline">¶</a></h3>
<div class="section" id="configuration">
<h4>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h4>
<p>Configure application settings by copying localsettings.py.sample to
localsettings.py and editing for local database, applications to index,
and the indexer STOMP connection settings. Additionally, Fedora settings
need to be specified for some unit tests to currently work.</p>
</div>
<div class="section" id="running-the-application">
<h4>Running The Application<a class="headerlink" href="#running-the-application" title="Permalink to this headline">¶</a></h4>
<p>Please see the documentation under the README.rst.</p>
</div>
<div class="section" id="reindexing-individual-pids-or-an-entire-site">
<h4>Reindexing individual PIDs or an entire Site<a class="headerlink" href="#reindexing-individual-pids-or-an-entire-site" title="Permalink to this headline">¶</a></h4>
<p>Please see the documentation under the README.rst.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Deploy Notes</a><ul>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#software-dependencies">Software Dependencies</a><ul>
<li><a class="reference internal" href="#configure-the-environment">Configure the environment</a></li>
<li><a class="reference internal" href="#install-python-dependencies">Install python dependencies</a></li>
<li><a class="reference internal" href="#install-configure-system-dependencies">Install/Configure System Dependencies</a><ul>
<li><a class="reference internal" href="#fedora">Fedora</a></li>
<li><a class="reference internal" href="#solr">SOLR</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#install-the-application">Install the Application</a><ul>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#running-the-application">Running The Application</a></li>
<li><a class="reference internal" href="#reindexing-individual-pids-or-an-entire-site">Reindexing individual PIDs or an entire Site</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="readme.html"
                        title="previous chapter">EULindexer</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="apidocs.html"
                        title="next chapter"><tt class="docutils literal docutils literal"><span class="pre">eulindexer</span></tt> Code Documentation for eulindexer</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/deploynotes.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="apidocs.html" title="eulindexer Code Documentation for eulindexer"
             >next</a> |</li>
        <li class="right" >
          <a href="readme.html" title="EULindexer"
             >previous</a> |</li>
        <li><a href="index.html">eulindexer v0.1-dev documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Emory University Libraries.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>